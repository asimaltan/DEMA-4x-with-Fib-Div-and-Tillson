//@version=5
indicator(title='MyEma12_1S_2S V1.2', shorttitle='MyEma12_1S_2S V1.2', format=format.volume)

acZd1 = input(defval = true, title = '1. Zaman Dilimi Çizgileri Gözüksün mü?')   
acZd2 = input(defval = false, title = '2. Zaman Dilimi Çizgileri Gözüksün mü?')   
acZd3 = input(defval = false, title = '3. Zaman Dilimi Çizgileri Gözüksün mü?')   

acAlSatIsaret = input(defval = true, title = 'Al Sat İşaretleri Gözüksün mü?')  
acTerkIsaret = input(defval = false, title = 'Bölge Terk İşaretleri Gözüksün mü?')  

acAlimTerk = input.int(defval = 60, title = 'Alım Terk Bölgesi % Değeri')   
acSatimTerk = input.int(defval = 50, title = 'Satım Terk Bölgesi % Değeri')   


acCCAS = input.int(defval = 85, title = 'Çok Çok Aşırı Satım Çizgisi % Değeri')   
acCAS = input.int(defval = 80, title = 'Çok Aşırı Satım Çizgisi % Değeri')   
acAS = input.int(defval = 70, title = 'Aşırı Satım Çizgisi % Değeri')   
acS = input.int(defval = 60, title = 'Satım Çizgisi % Değeri')   

acA = input.int(defval = 45, title = 'Alım Çizgisi % Değeri')   
acAA = input.int(defval = 30, title = 'Aşırı Alım Çizgisi % Değeri')   
acCAA = input.int(defval = 20, title = 'Çok Aşırı Alım Çizgisi % Değeri')   

tf1S = input("1", title='Zaman Dilimi 1:', defval="1")
myClose1S = request.security(syminfo.tickerid, tf1S, hlc3)
myRsi1S = ta.rsi(myClose1S,14)
myEma121S = ta.ema(myRsi1S, 12)

tf2S = input("5", title='Zaman Dilimi 2:', defval="5")
myClose2S = request.security(syminfo.tickerid, tf2S, hlc3)
myRsi2S = ta.rsi(myClose2S,14)
myEma122S = ta.ema(myRsi2S, 12)

tf3S = input("30", title='Zaman Dilimi 3:', defval="30")
myClose3S = request.security(syminfo.tickerid, tf3S, hlc3)
myRsi3S = ta.rsi(myClose3S,14)
myEma123S = ta.ema(myRsi3S, 12)

//myEma12
plot(myRsi1S and acZd1 ? myRsi1S : na, title="Rsi 1S", color=color.new(color.yellow,0), offset=0, linewidth=2)
plot(myEma121S and acZd1 ? myEma121S : na, title="EMA12 1S", color=color.new(color.yellow,100), offset=0, linewidth=2)

plot(myRsi2S and acZd2 ? myRsi2S : na, title="Rsi 2S", color=color.new(color.orange,0), offset=0, linewidth=2)
plot(myEma122S and acZd2 ? myEma122S : na, title="EMA12 2S", color=color.new(color.orange,100), offset=0, linewidth=2)

plot(myRsi3S and acZd3 ? myRsi3S : na, title="Rsi 3S", color=color.new(color.red,0), offset=0, linewidth=2)
plot(myEma123S and acZd3 ? myEma123S : na, title="EMA12 3S", color=color.new(color.red,100), offset=0, linewidth=2)

upbandHH = hline(acCCAS, "Çok Çok Aşırı Satım Bölgesi", color=color.new(color.purple, 0), linewidth=2)
upbandH = hline(acCAS, "Çok Aşırı Satım Bölgesi", color=color.new(color.lime, 0), linewidth=2)
upband = hline(acAS, "Aşırı Satım Bölgesi", color=color.new(color.blue, 0), linewidth=2)
bullzoneband = hline(acS, "Satım Bölgesi", color=color.new(color.white, 0), linewidth=2)
fill(upband, bullzoneband, color=color.new(color.red,40), title = 'Satım Bölgesi')
fill(upband, upbandH, color=color.new(color.red,60), title = 'Aşırı Satım Bölgesi')
fill(upbandH, upbandHH, color=color.new(color.red,88), title = 'Çok Aşırı Satım Bölgesi')

bearzoneband = hline(acA, "Alım Bölgesi", color=color.new(color.yellow, 0), linewidth=2)
downband = hline(acAA, "Aşırı Alım Bölgesi", color=color.new(color.orange, 0), linewidth=2)
downbandL = hline(acCAA, "Çok Aşırı Alım Bölgesi", color=color.new(color.red, 0), linewidth=2)
fill(bearzoneband, downband, color=color.new(color.blue,60), title = 'Alım Bölgesi')
fill(downband, downbandL, color=color.new(color.blue,80), title = 'Aşırı Alım Bölgesi')

//Satış Bolgesi
yukariKesSatisBolgesi = ta.crossover(myRsi1S , 60)
yukariKesAsiriSatisBolgesi = ta.crossover(myRsi1S , 70)
yukariKesCokAsiriSatisBolgesi = ta.crossover(myRsi1S , 80)
yukariKesCokCokAsiriSatisBolgesi = ta.crossover(myRsi1S , 85)

plotshape(yukariKesCokCokAsiriSatisBolgesi and acAlSatIsaret ? yukariKesCokCokAsiriSatisBolgesi : na ,title ='Çok Çok Aşırı Satış İşareti', text='', style=shape.triangleup, location=location.top, color=color.new(color.purple, 0), offset=0, size=size.tiny)
alertcondition(yukariKesCokCokAsiriSatisBolgesi, title="CCAS+++ SAT", message='CCAS+++ SAT {{ticker}}, FİYAT={{close}}')

plotshape(yukariKesCokAsiriSatisBolgesi and acAlSatIsaret ? yukariKesCokAsiriSatisBolgesi : na ,title ='Çok Aşırı Satış İşareti', text='', style=shape.triangleup, location=location.top, color=color.new(color.lime, 0), offset=0, size=size.tiny)
alertcondition(yukariKesCokAsiriSatisBolgesi, title="CAS+++ SAT", message='CAS+++ SAT {{ticker}}, FİYAT={{close}}')

plotshape(yukariKesAsiriSatisBolgesi and acAlSatIsaret ? yukariKesAsiriSatisBolgesi : na ,title ='Aşırı Satış İşareti', text='', style=shape.triangleup, location=location.top, color=color.new(color.blue, 0), offset=0, size=size.tiny)
alertcondition(yukariKesAsiriSatisBolgesi, title="AS++ SAT", message='AS++ SAT {{ticker}}, FİYAT={{close}}')

plotshape(yukariKesSatisBolgesi and acAlSatIsaret ? yukariKesSatisBolgesi : na ,title ='Satış İşareti', text='', style=shape.triangleup, location=location.top, color=color.new(color.white, 0), offset=0, size=size.tiny)
alertcondition(yukariKesSatisBolgesi, title="A+ SAT", message='A+ SAT {{ticker}}, FİYAT={{close}}')

//Alım Bölgesi
asagiKesAlimBolgesi = ta.crossunder(myRsi1S , 45)
asagiKesAsiriAlimBolgesi = ta.crossunder(myRsi1S , 30)
asagiKesCokAsiriAlimBolgesi = ta.crossunder(myRsi1S , 20)

plotshape(asagiKesAlimBolgesi and acAlSatIsaret ? asagiKesAlimBolgesi : na ,title ='Alım İşareti', text='', style=shape.triangledown, location=location.bottom, color=color.new(color.yellow, 0), offset=0, size=size.tiny)
alertcondition(asagiKesAlimBolgesi, title="A- AL", message='A- AL {{ticker}}, FİYAT={{close}}')

plotshape(asagiKesAsiriAlimBolgesi and acAlSatIsaret ? asagiKesAsiriAlimBolgesi : na ,title ='Aşırı Alım İşareti', text='', style=shape.triangledown, location=location.bottom, color=color.new(color.orange, 0), offset=0, size=size.tiny)
alertcondition(asagiKesAsiriAlimBolgesi, title="AA-- AL", message='AA-- AL {{ticker}}, FİYAT={{close}}')

plotshape(asagiKesCokAsiriAlimBolgesi and acAlSatIsaret ? asagiKesCokAsiriAlimBolgesi : na ,title ='Çok Aşırı Alım İşareti', text='', style=shape.triangledown, location=location.bottom, color=color.new(color.red, 0), offset=0, size=size.tiny)
alertcondition(asagiKesCokAsiriAlimBolgesi, title="CAA--- AL", message='CAA--- AL {{ticker}}, FİYAT={{close}}')

//Alım Bölesi Terkedildi
yukariAlimBolgesiTerk = ta.crossover(myRsi1S , acAlimTerk) //60
plotshape(yukariAlimBolgesiTerk and acTerkIsaret ? yukariAlimBolgesiTerk : na ,title ='Alım Bölgesi Terk İşareti', text='', style=shape.triangleup, location=location.bottom, color=color.new(color.lime, 0), offset=0, size=size.small)
alertcondition(yukariAlimBolgesiTerk, title="Alım Terk AL", message='AlımTerk AL {{ticker}}, FİYAT={{close}}')

//Satım Bölgesi Terkedildi
asagiSatimBolgesiTerk = ta.crossunder(myRsi1S ,acSatimTerk) //50
plotshape(asagiSatimBolgesiTerk and acTerkIsaret ? asagiSatimBolgesiTerk : na ,title ='Satım Bölgesi Terk İşareti', text='', style=shape.triangledown, location=location.top, color=color.new(color.red, 0), offset=0, size=size.small)
alertcondition(asagiKesCokAsiriAlimBolgesi, title="Satım Terk SAT", message='SatımTerk SAT {{ticker}}, FİYAT={{close}}')


//BURADA BITTI
